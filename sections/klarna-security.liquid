{%- comment -%}
KLARNA SECURITY SECTION
File: sections/klarna-security.liquid
Split layout + device mockup + dark background
{%- endcomment -%}

{{ 'klarna-security.css' | asset_url | stylesheet_tag }}
{{ 'klarna-security.js' | asset_url | script_tag }}

<section class="klarna-security">
  <div class="klarna-security-container{% if section.settings.reverse_layout %} klarna-security-reverse{% endif %}">
    <div class="klarna-security-content">
      {% if section.settings.small_label != blank %}
        <div class="klarna-security-label">{{ section.settings.small_label | escape }}</div>
      {% endif %}
      {% if section.settings.section_title != blank %}
        <h2>{{ section.settings.section_title | escape }}</h2>
      {% endif %}
      {% if section.settings.description != blank %}
        <p class="klarna-security-text">{{ section.settings.description }}</p>
      {% endif %}
      {% if section.settings.cta_url != blank %}
        <a href="{{ section.settings.cta_url }}" class="klarna-security-cta">{{ section.settings.cta_text | escape }}</a>
      {% elsif section.settings.cta_text != blank %}
        <span class="klarna-security-cta">{{ section.settings.cta_text | escape }}</span>
      {% endif %}
    </div>
    <div class="klarna-security-visual">
      <div class="klarna-security-device">
        <div class="klarna-security-device-content">
          <div class="klarna-security-device-icon">{{ section.settings.device_icon }}</div>
          <div class="klarna-security-device-welcome">{{ section.settings.device_welcome_text | escape }}</div>
          {% if section.settings.show_keypad %}
            {% assign numbers = section.settings.keypad_numbers | split: ',' %}
            <div class="klarna-security-keypad">
              {% for number in numbers %}
                <div class="klarna-keypad-key">{{ number }}</div>
              {% endfor %}
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</section>


{% schema %}
{
  "name": "Klarna Security",
  "tag": "section",
  "class": "klarna-security",
  "settings": [
    { "type": "text", "id": "small_label", "label": "Small Label", "default": "La sicurezza Ã¨ di serie" },
    { "type": "text", "id": "section_title", "label": "Section Title", "default": "Protezione avanzata dei dati" },
    { "type": "textarea", "id": "description", "label": "Description", "default": "Paga in sicurezza sapendo che i tuoi dati e il tuo denaro sono sempre protetti dalle frodi." },
    { "type": "text", "id": "cta_text", "label": "CTA Text", "default": "Scopri di piÃ¹ â†’" },
    { "type": "url", "id": "cta_url", "label": "CTA URL" },
    { "type": "text", "id": "device_welcome_text", "label": "Device Welcome Text", "default": "Benvenuto/a" },
    { "type": "text", "id": "device_icon", "label": "Device Icon", "default": "ðŸ”’" },
    { "type": "checkbox", "id": "show_keypad", "label": "Show Keypad", "default": true },
    { "type": "text", "id": "keypad_numbers", "label": "Keypad Numbers", "default": "1,2,3,4,5,6,7,8,9,,0," },
    { "type": "checkbox", "id": "reverse_layout", "label": "Reverse Layout", "default": false }
  ],
  "presets": [
    { "name": "Klarna Security" }
  ]
}
{% endschema %}
